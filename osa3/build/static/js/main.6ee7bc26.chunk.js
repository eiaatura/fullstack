(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{24:function(e,n,t){},50:function(e,n,t){"use strict";t.r(n);var r=t(2),c=t.n(r),o=t(19),u=t.n(o),a=(t(24),t(9)),i=t(4),s=t(5),l=t.n(s),d="/api/persons",f=function(){return l.a.get(d).then((function(e){return e.data}))},j=function(e){return l.a.post(d,e).then((function(e){return e.data}))},b=function(e,n){return l.a.put("".concat(d,"/").concat(e),n).then((function(e){return e.data}))},h=function(e){return l.a.delete("".concat(d,"/").concat(e)).then((function(e){return e.data}))},p=t(0),m=function(e){var n=e.message;if(null===n)return null;var t={color:n.color_green?"green":"red",background:"#D3D3D3",fontSize:"150%",borderStyle:"solid",borderRadius:"2px",padding:"5px"};return Object(p.jsxs)("div",{style:t,children:[" ",n.content," "]})},O=function(e){return Object(p.jsxs)("form",{onSubmit:e.addPerson,children:[Object(p.jsxs)("div",{children:["name: ",Object(p.jsx)("input",{value:e.newName,onChange:e.changeName})]}),Object(p.jsxs)("div",{children:["number: ",Object(p.jsx)("input",{value:e.newNumber,onChange:e.changeNumber})]}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{type:"submit",children:"add"})})]})},g=function(e){var n=e.filter,t=e.onFilterChange;return Object(p.jsxs)("p",{children:["filter shown with ",Object(p.jsx)("input",{value:n,onChange:t})]})},v=function(e){var n=e.persons,t=e.filter,r=e.onDelete;return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"Numbers"}),n.filter((function(e){return e.personName.toUpperCase().includes(t.toUpperCase())})).map((function(e){return Object(p.jsx)(x,{person:e,onDelete:r},e.personName)}))]})},x=function(e){var n=e.person,t=e.onDelete;return Object(p.jsxs)("div",{children:[n.personName," ",n.number," ",Object(p.jsx)("button",{onClick:function(){return t(n)},children:"delete"})]})},N=function(){var e=Object(r.useState)(""),n=Object(i.a)(e,2),t=n[0],c=n[1],o=Object(r.useState)([]),u=Object(i.a)(o,2),s=u[0],l=u[1],d=Object(r.useState)(""),x=Object(i.a)(d,2),N=x[0],w=x[1],D=Object(r.useState)(null),C=Object(i.a)(D,2),S=C[0],y=C[1],_=Object(r.useState)(""),F=Object(i.a)(_,2),k=F[0],P=F[1],I=null===S?null:S.color_green,E=null===S?null:S.content;Object(r.useEffect)((function(){f().then((function(e){return l(e)}))}),[]),Object(r.useEffect)((function(){var e=setTimeout((function(){return y(null)}),5e3);return function(){return clearInterval(e)}}),[E,I]);return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Phonebook"}),Object(p.jsx)(m,{message:S}),Object(p.jsx)(g,{filter:k,onFilterChange:function(e){return P(e.target.value)}}),Object(p.jsx)("h2",{children:"Add a new"}),Object(p.jsx)(O,{addPerson:function(e){(e.preventDefault(),function(e,n){return e.filter((function(e){return e.personName===n})).length>0}(s,t))?window.confirm("".concat(t," is created already. Do you want to update it with new number?"))&&function(e){var n=s.find((function(n){return n.personName===e})),t=Object(a.a)(Object(a.a)({},n),{},{number:N});b(t.id,t).then((function(e){l(s.map((function(t){return t.id!==n.id?t:e}))),y({content:"Updated ".concat(t.personName,"."),color_green:!0})}))}(t):function(){var e={personName:t,number:N,id:s.length+1};j(e).then((function(e){l(s.concat(e)),y({content:"Added ".concat(e.personName),color_green:!0})})),c(""),w("")}()},changeName:function(e){return c(e.target.value)},changeNumber:function(e){return w(e.target.value)},newName:t,newNumber:N}),Object(p.jsx)(v,{persons:s,filter:k,onDelete:function(e){window.confirm("Delete ".concat(e.personName,"?"))&&h(e.id).then((function(){l(s.filter((function(n){return n.id!==e.id}))),y({content:"Deleted ".concat(e.personName),color_green:!1})})).catch((function(n){"Request failed with status code 404"===n.message?y({content:"Information of ".concat(e.personName," has already been removed from server"),color_green:!0}):y({content:n.response.data.error,color_green:!1})}))}})]})},w=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,51)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,o=n.getLCP,u=n.getTTFB;t(e),r(e),c(e),o(e),u(e)}))};u.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(N,{})}),document.getElementById("root")),w()}},[[50,1,2]]]);
//# sourceMappingURL=main.6ee7bc26.chunk.js.map